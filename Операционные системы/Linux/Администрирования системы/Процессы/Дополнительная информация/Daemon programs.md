**Демоны** (англ. **_«daemons»_**) — это работающие в фоновом режиме служебные программы (или _процессы_), целью которых является мониторинг определенных подсистем ОС и обеспечение её нормальной работы. Например, демон принтера контролирует возможности печати, демон сети контролирует и поддерживает сетевые коммуникации и т.д.

Демоны являются аналогом служб (_services_) в Windows: они выполняют определенные действия в заранее определенное время или в ответ на определенные события. **Существует множество различных демонов, работающих в Linux, каждый из которых создан специально для наблюдения за своей собственной маленькой частью системы.** Из-за того, что демоны выполняют основную часть своей работы в фоновом режиме и не находятся под прямым контролем пользователя, бывает трудно определить предназначение того или иного демона.

Так как демон — это процесс, который выполняется в фоновом режиме и обычно находится вне контроля пользователя, то _у него нет управляющего терминала_.

В Linux существует три [[Процессы#В Linux существует три основных типа процессов|типа процессов]]:

- **Процессы переднего плана** (или _**«интерактивные процессы»**_) — это те процессы, которые запускаются пользователем в терминале.

- **Фоновые процессы** (или _**«автоматические процессы»**_) — это объединенные в список процессы, не подключенные к терминалу; они не ожидают пользовательского ввода данных.

- **Демоны** (англ. «daemons») — это особый тип фоновых процессов, которые запускаются при старте системы и продолжают работать в виде системных служб; они не _умирают_.

Когда завершается загрузка системы, процесс инициализации системы начинает создавать демоны с помощью **метода fork()**, устраняя необходимость в терминале (именно это подразумевается под _«отсутствием управляющего терминала»_).

## Примеры демонов в Linux

Наиболее распространенный способ идентификации демона в Linux — это поиск процесса имя которого заканчивается буквой _d._ Есть много способов увидеть работающих демонов. Их можно отследить в списках процессов через такие команды, как: `ps`, `top`, `htop`, а также `pstree`.

**Команда pstree** показывает процессы, запущенные в настоящее время в нашей системе, и отображает их в виде древовидной диаграммы. Откройте терминал и введите следующую команду:
`$ pstree`
![[Pasted image 20250227153346.png]]

Вывод команды `pstree` — это довольно хорошая иллюстрация того, что происходит с нашей системой. Перед нами появился список всех запущенных процессов, среди которых можно заметить и несколько демонов: _cups**d**_, _dbus-_**_daemon_**, _kdekonnect**d**_, _packagekit**d**_ и некоторые другие.

Вот несколько «популярных» примеров демонов, которые могут работать в вашей системе:

   _system**d**_ — это системный демон, который (подобно процессу _init_) является родителем (прямым или косвенным) всех других процессов, и имеет [[Процессы#Как Linux идентифицирует процессы?|PID=1]].

   _rsyslog**d**_ — используется для регистрации системных сообщений. Это более новая версия _syslogd_, имеющая несколько дополнительных функций.

   _udisks**d**_ — обрабатывает такие операции, как: запрос, монтирование, размонтирование, форматирование или отсоединение устройств хранения данных (жесткие диски, USB-флеш-накопители и пр.).

   _login**d**_ — крошечный демон, который различными способами управляет входами пользователей в систему.

   _ssh**d**_ — демон, отвечающий за управление службой SSH. Используется практически на любом сервере, который принимает SSH-соединения.

   _ftp**d**_ — управляет службой FTP. Протокол FTP (сокр. от англ. _«**F**ile **T**ransfer **P**rotocol»_) является широко используемым протоколом для передачи файлов между компьютерами, где один компьютер действует как клиент, другой — как сервер.

   _cron**d**_ — демон планировщика заданий, зависящих от времени. С его помощью можно выполнять обновление программного обеспечения, проверку системы и пр.

### Команды для демонов

```
systemctl status sshd # выведет статус демона отвечающего за ssh

journalctl -eu sshd # просмотреть логи демона ssh

systemctl restart sshd # рестарт сервиса ssh
``` 