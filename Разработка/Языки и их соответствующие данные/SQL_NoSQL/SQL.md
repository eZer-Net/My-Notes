
## Реляционные базы данных

Реляционные базы данных представляют собой **набор связанных таблиц**. Связь между таблицами осуществляется через поля идентификаторов: первичный ключ (Primary Key) одной таблицы ссылается на внешний ключ (Foreign Key) другой таблицы. Это позволяет поддерживать целостность данных и управлять их взаимосвязями.

## Виды связей

1. **Один-ко-многим (One-to-Many):**
   - Одна запись в первой таблице может соответствовать множеству записей во второй таблице.
   - Пример: Один клиент может иметь несколько заказов.

2. **Многие-к-одному (Many-to-One):**
   - Множественные записи в первой таблице могут ссылаться на одну запись во второй таблице.
   - Пример: Несколько заказов могут принадлежать одному клиенту.

3. **Один-к-одному (One-to-One):**
   - Каждая запись в первой таблице соответствует ровно одной записи во второй таблице.
   - Пример: Один человек может иметь только один паспорт.

4. **Многие-ко-многим (Many-to-Many):**
   - Записи в первой таблице могут соответствовать множеству записей во второй таблице и наоборот.
   - Пример: Студенты могут записываться на несколько курсов, а каждый курс может иметь множество студентов.
   - Для реализации такой связи часто используется промежуточная таблица.


## Система управления базами данных (СУБД)

Система управления базами данных (СУБД) — это программное обеспечение, которое позволяет создавать, управлять и манипулировать базами данных. СУБД обеспечивает средства для выполнения операций с данными, такие как создание, чтение, обновление и удаление (CRUD).

Крупнейшие системы управления базами данных — [[Сервер баз данных#PostgreSQL|PostgreSQL]], [[Сервер баз данных#Microsoft SQL Server|Microsoft SQL Server]], [[Сервер баз данных#MySQL|MySQL]] и [[Сервер баз данных#SQLite|SQLite]].

## Язык SQL

SQL (Structured Query Language) - Структурированный язык запросов

#### Основные команды SQL

1. **SELECT - выборка данных**
```
   SELECT column1, column2 FROM table_name;
```
   Чтобы выбрать все столбцы:
```
   SELECT * FROM table_name;
```
   

2. **WHERE - фильтрация данных**
```
   SELECT column1, column2 FROM table_name WHERE condition;
```

3. **INSERT - вставка данных**
```
   INSERT INTO table_name (column1, column2) VALUES (value1, value2);
```
   

4. **UPDATE - обновление данных**
```
   UPDATE table_name SET column1 = value1, column2 = value2 WHERE condition;
```
   

5. **DELETE - удаление данных**
```
   DELETE FROM table_name WHERE condition;
```
   

6. **CREATE TABLE - создание таблицы**
```
   CREATE TABLE table_name (
       column1 datatype,
       column2 datatype,
       ...
   );
```
   

7. **ALTER TABLE - изменение структуры таблицы**
```
   ALTER TABLE table_name ADD column_name datatype;
```
   

8. **DROP TABLE - удаление таблицы**
```
   DROP TABLE table_name;
```

9. -- - комментарий
```
test' or 1=1 --
```

#### Основные операторы

- AND / OR - логические операторы для комбинирования условий в WHERE.

- ORDER BY - сортировка результатов
```
  SELECT * FROM table_name ORDER BY column1 ASC|DESC;
```
  

- GROUP BY - группировка данных
```
  SELECT column1, COUNT(*) FROM table_name GROUP BY column1;
```
  

- HAVING - фильтрация группированных данных
```
  SELECT column1, COUNT(*) FROM table_name GROUP BY column1 HAVING COUNT(*) > value;
```
  

#### Типы данных
- **INT** - целое число
- **VARCHAR**(n) - строка переменной длины до n символов
- **CHAR**(n) - строка фиксированной длины n символов
- **DATE** - дата
- **FLOAT** - число с плавающей точкой

#### Примеры сложных запросов

1. **JOIN** - объединение таблиц
```
   SELECT a.column1, b.column2 
   FROM table_a a 
   JOIN table_b b ON a.common_column = b.common_column;
```
   

2. **SUBQUERY** - под запрос
```
   SELECT column1 
   FROM table_name 
   WHERE column2 IN (SELECT column2 FROM another_table WHERE condition);
```
   


## Принципы ACID

ACID — это набор свойств, которые гарантируют надежность транзакций в реляционных базах данных:

• Atomicity (Атомарность): Транзакция должна быть выполнена полностью или не выполнена вовсе.

• Consistency (Согласованность): Транзакции должны приводить базу данных из одного согласованного состояния в другое.

• Isolation (Изолированность): Одновременные транзакции не должны влиять друг на друга.

• Durability (Долговечность): После завершения транзакции изменения должны сохраняться, даже в случае сбоя системы.