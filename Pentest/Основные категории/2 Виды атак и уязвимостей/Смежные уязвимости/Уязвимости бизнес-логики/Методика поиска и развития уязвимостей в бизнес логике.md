
# Логических ошибки включают в себя:

- Чрезмерное доверие к средствам контроля на стороне клиента
- Невозможность обработки нетрадиционных входных данных
- Ошибочные предположения о поведении пользователей
- Специфические для предметной области недостатки
- Предоставление оракула шифрования
- Расхождения в анализаторе адресов электронной почты

## 1. Чрезмерное доверие к средствам контроля на стороне клиента

 Ошибочным предположением является то, что пользователи будут взаимодействовать с приложением только через предоставленный веб-интерфейс.
 
- **Тестирование нестандартного ввода**:
	- Брут-форс подбор различной информации
	- Изменение данных в запросах от пользователя

## 2. Невозможность обработки нетрадиционных входных данных

Сюда входят исключительно большие или исключительно низкие числовые входные данные и аномально длинные строки для текстовых полей

#### Задаваться вопросом
- Существуют ли какие-либо ограничения на данные?
- Что произойдет, когда мы достигнем этих пределов?
- Выполняется ли какое-либо преобразование или нормализация входных данных?

#### Тестирование нестандартного ввода:
- Отрицательные числа.
- Очень большие числа.
- Необычно длинные строки.
- Неожиданные типы данных (например, текст вместо числа).

## 3. Ошибочные предположения о поведении пользователей

#### 3.1 Доверенные пользователи не всегда будут заслуживать доверия

- **Методы тестирования:**
    - Проверить, как приложение обрабатывает действия доверенных пользователей после их аутентификации. Изменить параметры запросов (например, ID пользователя, роли или другие данные) после успешного входа в систему.
    
    - Проверить, как приложение реагирует на попытки доступа к данным других пользователей (например, подмена идентификаторов в запросах).
    
    - Убедится, что приложение не ослабляет контроль доступа после первоначальной аутентификации. Проверить, требуется ли повторная проверка прав доступа при выполнении критических операций.

#### 3.2 Пользователи не всегда предоставляют обязательные данные

- **Методы тестирования:**
    - Удалять обязательные параметры из запросов (как в URL, так и в теле POST-запросов) и наблюдать за реакцией приложения.
    
    - Попробовать отправить пустые значения для обязательных полей или замените их на неожиданные данные
	    Например, специальные символы, длинные строки.
    
    - Проверить, как приложение обрабатывает отсутствие параметров или их некорректные значения. 
	    Например, попробовать удалить имя параметра или его значение.
    
    - Протестировать многоэтапные процессы, изменяя параметры на разных этапах
	    Например, удалить параметр на одном этапе и проверить, как это повлияет на последующие шаги.
    
    - Проверить файлы cookie на предмет их влияния на бизнес-логику. Попробовать изменить или удалить cookie и посмотреть, как приложение реагирует.


#### 3.3 Пользователи не всегда будут следовать предполагаемой последовательности

**Методы тестирования:**
- Попробовать пропустить шаги, повторить шаги или вернуться к предыдущим шагам.

- Проверить, как приложение обрабатывает запросы, отправленные в неправильной последовательности
	Например, попробовать выполнить шаг 3 после шага 1.

- Убедится, что приложение проверяет состояние пользователя на каждом этапе. 
	Например, если пользователь должен пройти двухфакторную аутентификацию, проверьте, можно ли обойти этот шаг.

- Обратить внимание на сообщения об ошибках и отладочную информацию, которые могут раскрыть детали внутренней логики приложения.

## 4. Специфические для предметной области недостатки

1. **Определить спектр услуг/функций объекта:**
    - Изучить, какие функции доступны пользователю (скидки, купоны, бонусы и т.д.).
    
	- Проверить, как эти функции взаимодействуют между собой.

2. **Тестирование корректировок на основе действий пользователя:**
    - Проверить, как система корректирует цены, скидки или другие параметры после действий пользователя. 
	    например, добавление/удаление товаров или чередовать купонами на скидку.
	    
	- Определить, когда корректировки применяются в какой момент.

3. **Анализ алгоритмов:**
    - Изучить, какие алгоритмы используются для расчетов (скидки, начисления бонусов и т.д.).
    
	- Проверить, можно ли обойти или манипулировать этими алгоритмами.

4. **Тестирование комбинаций функций:**
    
    - Проверить, как разные функции взаимодействуют друг с другом (например, применение скидки и купона одновременно).
    

## 5. Предоставление оракула шифрования

....

----
## 6. Расхождения в анализаторе адресов электронной почты


#### 1. Точка (.)

- Точка (`.`) в локальной части email-адреса (часть до `@`) может интерпретироваться по-разному в зависимости от почтового сервиса или приложения.

- Например  объединять домены для тестирования некорректного обрезания 
	`@dontwannacry.com.exploit-0aee000d03a298eb803e52f8010300be.exploit-server.net` может определить что такого домена нет и сократить до `exploit-0aee000d03a298eb803e52f8010300be.exploit-server.net`

#### 2. Плюс (+) в email-адреса

   - Пример: `example+test@domain.com` и `example@domain.com` могут относиться к одной и той же учетной записи
#### 2. Пробелы

   - Пример: `example @domain.com` или `example@ domain.com`.

   - Тестирование: Введите адреса с пробелами в различных местах и посмотрите, будет ли система их принимать или отклонять.
   
#### 3. Символы "@"

   - Пример: Использование нескольких символов @, например, `user@@domain.com`.
   
#### 4. Специальные символы

   - Пример: Использование символов, таких как `!`, `#`, `$`, `%`, `&`, `'`, `*`, `/`, `=`, `?`, `^`, `{`, `}`, `~` может быть допустимо в определенных контекстах.
   
#### 5. Кавычки (" ")

   - Пример: Адреса в кавычках, такие как `"john.doe"@domain.com`.

#### 6. Домен с поддоменом

   - Пример: `user@mail.domain.com` и `user@domain.com`.
   
#### 7. Регистры букв

   - Пример: `Example@Domain.com` и `example@domain.com`.

#### 8. Массовая рассылка

- Поддерживает ввод нескольких адресов тем самым рассылка критически важных данных попадает к 3 лицам.
![[Pasted image 20250316185902.png]]


#### Дополнительная информация

Подробную информацию о расхождениях в анализе электронной почты, включая способы их эксплуатации, см. в документе [«Разделение атома электронной почты: использование парсеров для обхода контроля доступа»,](https://portswigger.net/research/splitting-the-email-atom) написанном Гаретом Хейесом из исследовательской группы PortSwigger.