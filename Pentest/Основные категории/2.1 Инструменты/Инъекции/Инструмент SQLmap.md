 [SQLmap](https://kali.tools/?p=816) — это инструмент с открытым исходным кодом для тестирования на проникновение, который автоматизирует процесс выявления и эксплуатации уязвимости SQL-инъекця и захват серверов баз данных.

## Особенности

- Полная поддержка для таких систем управления базами данных как 
	MySQL, 
	Oracle, 
	PostgreSQL, 
	Microsoft SQL Server,
	Microsoft Access, 
	IBM DB2, SQLite, 
	Firebird, 
	Sybase, 
	SAP MaxDB
	HSQLDB.

- Полная поддержка шести техник SQL-инъекций: 
	слепая логическая (boolean-based blind), 
	слепая, основанная на времени (time-based blind), 
	основанная на ошибке (error-based), 
	основанная на запросе UNION (UNION query-based),
	многоярусные запросы (stacked queries) и внеполосная (out-of-band).

- Поддержка прямого подключения к базе данных без прохода через SQL инъекцию, посредством введения учётных данных СУБД, IP адреса, порта и имени БД.

- Поддержка перечисления пользователей, хешей паролей, привилегий, ролей, БД, таблиц и колонок.

- Автоматическое распознавание форматов хешей паролей и предложение их взлома с использованием атаки по словарю.

- Поддержка сдампливания (извлечения данных из базы данных) записей таблиц БД, диапазона записей или указанных колонок по пользовательскому выбору.

- Пользователь также может выбрать сдампливать только диапазон символов из каждой записи колонки.

- Поддержка поиска указанных имён БД, указанных таблиц по всем БД или указанным колонкам по всем таблицам БД. Это полезно, например, для идентификации таблиц, содержащих пользовательские учётные данные приложений, где колонки с соответствующими именами колонок содержат такие строки как имя и пароль.

- Поддержка загрузки и выгрузки любого файла из файловой системы с сервера БД, когда ПО БД MySQL, PostgreSQL или Microsoft SQL Server.

- Поддержка выполнения произвольных команд на ОС сервера БД и получение их стандартного вывода когда ПО MySQL, PostgreSQL или Microsoft SQL Server.

- Поддержка установления внедиапазонного TCP подключения между атакующей машиной и лежащей в основе сервера базы данных операционной системой. Этот канал по выбору пользователя может быть интерактивным приглашением командной строки, сессией Meterpreter или сессией графического пользовательского интерфейса (VNC).

- Поддержка повышения пользовательских привилегий процесса базы данных через команду [Metasploit](https://kali.tools/?p=1551)'а - Meterpreter getsystem.

## Справка по sqlmap

формат `python3 sqlmap [options]`

#### Цель:
По крайней мере одна из этих опций должна быть указана, чтобы задать цель(и)
```
-u URL, --url=URL   Целевой URL (например, "http://www.site.com/vuln.php?id=1")

-d DIRECT           Строка подключения для прямого соединения с базой данных

-l LOGFILE          Парсить цель(и) из файлов логов Burp или WebScarab

-m BULKFILE         Сканировать множество целей, заданных в текстовом файле

-r REQUESTFILE      Загрузить HTTP запросы из файла

-g GOOGLEDORK       Обработать результаты дорков Google как целевых URL

-c CONFIGFILE       Загрузить опции из конфигурационного файла INI
```

#### Запросы:
Эти опции могут использоваться для определения как подключиться к целевому URL
```
A AGENT, --user-agent=AGENT    Использование значение заголовка User-Agent

-H HEADER, --hea..    Дополнительный заголовок (например, "X-Forwarded-For: 127.0.0.1")

--method=МЕТОД        Принудительно использовать заданный HTTP метод (например, PUT)

--data=ДАННЫЕ         Строка данных для отправки через POST

--param-del=РАЗД_ПАР  Символ, используемый для разделения величин параметров

--cookie=КУКИ         Значение заголовка HTTP куки

--cookie-del=РАЗДЕЛИТЕЛЬ_КУКИ  Символ, используемый для разделения величин куки

--live-cookies=L..    Файл меняющихся кукиз, используется для загрузки актуальных значений

--load-cookies=ФАЙЛ_ДЛЯ_ЗАГРУЗКИ  Файл, содержащий куки в формате Netscape/wget

--drop-set-cookie     Игнорировать заголовок Set-Cookie из ответа

--mobile              С помощью HTTP заголовка User-Agent имитировать смартфон

--random-agent        Использовать случайно выбранное значение заголовка HTTP User-Agent

--host=ХОСТ           Значение заголовка хоста HTTP

--referer=РЕФЕРЕР     Значение заголовка HTTP Referer

--headers=ЗАГОЛОВКИ   Дополнительные заголовки (к примеру, "Accept-Language: fr\nETag: 123")

--auth-type=ТИП_АУТ   HTTP тип аутентификации (Basic, Digest, NTLM или PKI)

--auth-cred=ДАННЫЕ_АУТ  Учётные данные HTTP аутентификации (имя:пароль)

--auth-file=ФАЙЛ_АУТ  файл HTTP аутентификации PEM сертификат/частный ключ

--ignore-401          Игнорировать ошибку HTTP 401 (Unauthorized) (Неавторизован)

--ignore-proxy        Игнорировать дефолтные системные настройки прокси

--ignore-redirects    Игнорировать попытки редиректа

--ignore-timeouts     Игнорировать таймауты соединений

--proxy=ПРОКСИ        Использовать прокси для подключения к целевому URL

--proxy-cred=УЧЁТКА_ПРОКСИ  Учётные данные аутентификации прокси (имя:пароль)

--proxy-file=ФАЙЛ_ПРОКСИ  Загрузить список прокси из файла

--proxy-freq=PRO..     Запросы между сменой прокси из заданного списка

--tor                  Использовать анонимную сеть Tor

--tor-port=TORPORT     Установить порт прокси Tor отличный от дефолтного

--tor-type=TORTYPE     Установить тип прокси Tor (HTTP (по умолчанию), SOCKS4 или SOCKS5)

--check-tor            Проверить, используется ли Tor должным образом

--delay=ЗАДЕРЖКА       Задержка в секундах между каждым HTTP запросом

--timeout=ТАЙМАУТ      Секунды для ожидания перед таймаутом соединения (по умолчанию 30)

--retries=ПОПЫТКИ      Попытки при таймаутах соединения (по умолчанию 3)

--randomize=ПАРАМЕТРЫ  Случайно менять значения данного параметра(ов)

--safe-url=БЕЗОПАСНЫЙ_EURL  URL адрес для частого посещения во время тестирования

--safe-post=POST  Данные POST для отправки на безопасный URL

--safe-req=БЕЗОПАСНЫЙ_ФАЙЛ  Load safe HTTP request from a file

--safe-freq=КОЛИЧЕСТВО  Тестовые запросы между двумя визитами на заданный безопасный URL

--skip-urlencode       Пропустить URL кодирование данных для запросов

--csrf-token=CSR..     Параметр используемый для удержания токена anti-CSRF

--csrf-url=CSRFURL     URL адрес для посещения для извлечения токена anti-CSRF

--csrf-method=CS..     Метод HTTP для использования при посещении страницы с токеном анти-CSRF

--csrf-retries=C..     Повторные попытки получения токена анти-CSRF (по умолчанию 0)

--force-ssl            Принудительное использование SSL/HTTPS

--chunked              Использовать HTTP-запросы с фрагментированной передачей данных (POST)

--hpp                  Использовать метод загрязнения параметра HTTP

--eval=EVALCODE        Выполнить данный код Python перед запросом (например,
                           "import hashlib;id2=hashlib.md5(id).hexdigest()")
```

#### Оптимизация:
Эти опции могут использовать для оптимизации производительности sqlmap