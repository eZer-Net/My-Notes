По мере роста пропускной способности сети некоторые стандартные режимы TCP перестают обеспечивать оптимальную производительность. Ряд новшеств в области транспортных протоколов, призванных решить эти проблемы.

## QUIC

Протокол QUIC (Quick UDP Internet Connections — быстрые интернет-соединения UDP) был изначально предложен в качестве транспортного протокола, призванного улучшить ряд характеристик TCP относительно пропускной способности и величины задержки. 
	Еще до стандартизации он уже использовался более чем в половине соединений между браузером Chrome и сервисами Google.

Протокол QUIC работает поверх UDP и служит главным образом для ускорения прикладных протоколов, в частности веб-протоколов.


Интернет требует установления множества параллельных соединений для загрузки отдельной веб-страницы. Поскольку многие из этих соединений представляют собой соединения с общим сервером, установление нового соединения для загрузки каждого отдельного веб-объекта может привести к значительным тратам ресурсов. В результате ==QUIC стремится мультиплексировать такие соединения в единый UDP-поток, гарантируя при этом, что откладывание пересылки одного веб-объекта не заблокирует передачу остальных.==

Базируясь на протоколе UDP, QUIC не обеспечивает надежную передачу автоматически. При потере данных одного потока он может продолжить независимую транспортировку данных других потоков, что в итоге повышает производительность каналов с высокой частотой ошибок передачи. 

В QUIC также применяется ряд других методов оптимизации для повышения производительности.
- Вложение информации о шифровании прикладного уровня при установлении транспортного соединения и независимое шифрование каждого пакета (чтобы потеря одного из них не препятствовала декодированию последующих пакетов).
- Кроме того, QUIC может ускорять передачу обслуживания между сетями (например, переключение с мобильного соединения на Wi-Fi). 
- Использует идентификатор соединения для сохранения состояния, когда конечные точки меняют сеть.

## BBR: контроль перегрузки на основе пропускной способности узких мест

BBR (Bottleneck Bandwidth and RTT) — это **алгоритм контроля перегрузки**, разработанный компанией Google, который нацелен на оптимизацию передачи данных в сетях с учетом пропускной способности узких мест и времени в пути (RTT). ==Основная идея BBR заключается в том, чтобы минимизировать задержки и избежать излишней буферизации (bufferbloat), которая возникает, когда сетевые буферы слишком велики и приводят к увеличению задержек при передаче данных.==

#### Принципы работы BBR

1. Оценка пропускной способности и RTT:

   - BBR непрерывно отслеживает пропускную способность узких мест и величину RTT. Алгоритм использует эти данные для определения оптимальной скорости передачи данных.

   - Пропускная способность узкого места определяется как максимальная скорость доставки данных, измеренная за определенный период времени (обычно 6–10 RTT).

2. Подбор рабочей точки:

   - BBR стремится поддерживать объем передаваемых данных на уровне, равном произведению пропускной способности на задержку (bandwidth-delay product). Это позволяет избежать увеличения задержек, связанных с дополнительной буферизацией.

   - Когда объем передаваемых пакетов превышает это значение, задержка начинает расти, и именно в этот момент BBR активируется для регулирования скорости передачи.

3. Адаптивность:

   - Алгоритм адаптируется к изменениям в пропускной способности и задержке в реальном времени, что позволяет ему эффективно использовать доступный сетевой ресурс.

#### Преимущества BBR

- Снижение задержки: Алгоритм минимизирует задержку, поддерживая объем передаваемых данных на оптимальном уровне.

- Устойчивость к перегрузкам: BBR способен адаптироваться к изменениям в сети, что делает его более устойчивым к перегрузкам по сравнению с традиционными алгоритмами, основанными на потере пакетов.

- Эффективное использование пропускной способности: В экспериментах было показано, что BBR может эффективно использовать доступную пропускную способность даже в условиях конкуренции с другими TCP-потоками.

#### Вызовы и ограничения

- Совместимость с TCP: Одним из основных вопросов является то, как BBR будет взаимодействовать с традиционными алгоритмами контроля перегрузки TCP в условиях совместного использования сетевых ресурсов. Исследования показывают, что BBR может занимать фиксированную долю пропускной способности, что может привести к неравномерному распределению ресурсов между потоками.

- Необходимость тестирования: Для полной оценки эффективности BBR необходимо проводить тесты в реальных условиях, чтобы понять его поведение в различных сетевых сценариях.

## Будущее протокола TCP

TCP — «рабочая лошадка» интернета — используется многими приложениями; с течением времени разработчики видоизменяют и дополняют этот протокол, стараясь добиться высокой производительности в разнообразных сетях. Но TCP не решает проблем транспортной семантики, актуальных для многих приложений. К примеру: некоторые из них хотят, чтобы границы передаваемых ими сообщений или записей сохранялись. Другие приложения нацелены на работу с группами взаимосвязанных сообщений (например, веб-браузер, загружающий несколько объектов с одного сервера). Некоторым приложениям нужны дополнительные возможности управления сетевыми путями. TCP со своим стандартным интерфейсом сокетов не в состоянии выполнить эти требования. В результате каждое приложение вынуждено самостоятельно решать проблемы, которые не по силам TCP. Это привело к созданию новых протоколов со слегка измененным интерфейсом, таких как SCTP и SST. Но каждый раз, когда кто-то предлагает изменить проверенный механизм, образуется два противоборствующих лагеря: «Пользователи хотят новых возможностей» и «Если ничего не сломано, не надо ничего чинить».