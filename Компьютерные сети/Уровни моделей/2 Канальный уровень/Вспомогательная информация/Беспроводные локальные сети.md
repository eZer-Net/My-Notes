
Сети 802.11 можно использовать в двух режимах.
- Наиболее популярный — инфраструктурный режим (infrastructure mode). 
	Это подключение клиентов (например, ноутбуков и смартфонов) к другой сети, например внутренней сети компании или интернету. Каждый клиент связывается с точкой доступа (Access Point, AP), которая, в свою очередь, подключена к сети. Клиент отправляет и получает пакеты через AP.
	
- Второй режим, называется децентрализованной сетью (ad hoc network). 
	Это набор компьютеров, которые связаны таким образом, чтобы напрямую отправлять фреймы друг другу. Точка доступа не ­используется.
	![[Pasted image 20241212095259.png]]

Физический уровень почти такой же, как и в модели OSI, а вот канальный уровень во всех протоколах 802.х разбит на два или более подуровня. 

Что касается 802.11, то **MAC (подуровень управления доступом к среде) отвечает за распределение канала, то есть за то, какая станция будет передавать следующей**. Выше находится **LLC (подуровень управления логической связью), цель которого в том, чтобы скрыть различия стандартов 802.х от сетевого уровня**. Это ответственная задача, но, помимо этого, **LLC сегодня является связующим уровнем, отвечающим за идентификацию протокола (например, IP)**, информация о котором передается во фрейме 802.11.

#### Модель уровней протоколов
![[Pasted image 20241212100606.png]]

Все методы стандарта 802.11 используют радиосигналы ближнего радиуса действия в диапазонах 2,4 ГГц или 5 ГГц. радиоволны 5 ГГц короче, чем волны 2,4 ГГц, и не так хорошо проходят сквозь стены.

Все методы позволяют передавать сигнал на разной скорости в зависимости от текущих условий. Если беспроводной сигнал слабый, выбирается низкая скорость, если сильный — ее можно повысить. Такая корректировка называется адаптацией скорости (rate adaptation)

#### Методы
802.11b
    • Скорости: поддерживает скорости передачи данных 1, 2, 5,5 и 11 Мбит/с.
    • Метод передачи: использует технологию расширенного спектра с частотной манипуляцией (DSSS - Direct Sequence Spread Spectrum).  Это позволяет передавать данные с помощью модуляции, которая разбивает данные на более мелкие части и распространяет их по более широкому диапазону частот, что помогает уменьшить помехи и улучшить устойчивость сигнала.
802.11a
	• Скорости: поддерживает скорости до 54 Мбит/с.
	• Метод передачи: работает в 5-гигагерцевом диапазоне и использует OFDM (Orthogonal Frequency-Division Multiplexing), что позволяет передавать данные по нескольким подканалам одновременно. Это обеспечивает более высокую скорость передачи и лучшую устойчивость к интерференции по сравнению с 802.11b.
802.11n
    • Скорости: поддерживает скорости до 600 Мбит/с (в зависимости от конфигурации).
    • Метод передачи: использует MIMO (Multiple Input Multiple Output) и OFDM. MIMO позволяет использовать несколько антенн для передачи и приема данных, что значительно увеличивает пропускную способность и дальность действия сети. 802.11n также поддерживает каналы шириной до 40 МГц, что дополнительно увеличивает скорость передачи данных.
802.11ac
    • Скорости: поддерживает скорости до 3,46 Гбит/с (в зависимости от конфигурации).
    • Метод передачи: также использует MIMO и OFDM, но с улучшениями по сравнению с 802.11n. Поддерживает более широкие каналы (до 80 или 160 МГц) и может использовать до 8 пространственных потоков, что значительно увеличивает общую пропускную способность. 802.11ac работает только в 5-гигагерцевом диапазоне.
802.11ad
    • Скорости: поддерживает скорости до 7 Гбит/с.
    • Метод передачи: работает в диапазоне частот 60 ГГц и использует технологию OFDM. Эта технология позволяет достигать очень высоких скоростей передачи данных на коротких расстояниях, что делает ее подходящей для приложений, требующих высокой пропускной способности, таких как потоковое видео в высоком разрешении. Однако из-за высокой частоты сигнал имеет ограниченную дальность действия и менее устойчив к препятствиям.
802.11ax (Wi-Fi 6)
    • Скорости: поддерживает скорости до 9,6 Гбит/с (в зависимости от конфигурации).
    • Метод передачи: использует технологии OFDMA (Orthogonal Frequency Division Multiple Access) и MU-MIMO (Multi-User MIMO). OFDMA позволяет разделить каналы на более мелкие подканалы, которые могут использоваться одновременно несколькими устройствами, что значительно повышает эффективность использования спектра. MU-MIMO позволяет одновременно обслуживать несколько клиентов, что улучшает общую производительность сети в условиях высокой нагрузки.

Чтобы решить проблему очередности передачи данных станциями, 
	в стандарте 802.11 прослушивание канала происходит и на физическом, и на виртуальном уровне. 
	При физическом прослушивании среда просто проверяется на наличие сигнала. Виртуальное прослушивание заключается в том, что станции ведут логический журнал использования канала, отслеживая **вектор распределения сети (Network Allocation Vector, NAV). Каждый фрейм содержит поле NAV, которое сообщает, как долго будет передаваться последовательность, в которую он входит.** Станции, услышавшие этот фрейм, понимают, что канал будет занят в течение указанного в NAV периода, даже если физический сигнал в канале отсутствует.

#### Формат фрейма данных стандарта 802.11 
включает несколько полей, каждое из которых выполняет определенную функцию. структурированная информация о формате фрейма:
    1. Frame Control (Управление фреймом)
		• Protocol Version (Версия протокола): 2 бита (значение 00)
		• Type (Тип): 2 бита (информационный, служебный или управляющий)
		• Subtype (Подтип): 4 бита (например, RTS или CTS)
		• To DS (К DS): 1 бит (указывает направление в сеть)
		• From DS (От DS): 1 бит (указывает направление из сети)
		• More Fragments (Дополнительные фрагменты): 1 бит (указывает на наличие дополнительных фрагментов)
		• Retry (Повтор): 1 бит (маркирует заново отправленный фрейм)
		• Power Management (Управление питанием): 1 бит (индикатор режима энергосбережения)
		• More Data (Дополнительные данные): 1 бит (указывает на наличие дополнительных фреймов для пересылки)
		• Protected Frame (Шифрование): 1 бит (индикатор использования шифрования)
		• Order (Порядок): 1 бит (указывает на необходимость строгой обработки фреймов по порядку)
    2. Duration (Длительность)
		• Поле, задающее время передачи фрейма и подтверждения в микросекундах.
    3. Адреса Фрейм данных включает три адреса:
		• Address 1: Адрес получателя.
		• Address 2: Адрес отправителя.
		• Address 3: Адрес точки назначения или удаленной конечной точки.
    4. Sequence Control (Последовательность)
		• Fragment Number: 4 бита (идентификатор фрагмента).
		• Sequence Number: 12 бит (номер последовательности, который увеличивается с каждой передачей).
    5. Data (Данные)
		• Поле, содержащее передаваемую информацию; длина может достигать 2312 байт.
		• Первые байты полезной нагрузки представлены в формате LLC (Logical Link Control), который идентифицирует протокол более высокого уровня, например, IP.
    6. Frame Check Sequence (Контрольная последовательность фрейма)
		• 32-битный CRC для проверки целостности данных.
    Формат управляющих и служебных фреймов
		• Управляющие фреймы имеют тот же формат, что и информационные, с добавлением специфической информации в зависимости от подтипа.
		• Служебные фреймы короче и содержат только поля Frame Control, Duration и Frame Check Sequence; могут иметь только один адрес и не содержать поля Data.
    Примеры подтипов
		• RTS (Request to Send)
		• CTS (Clear to Send)
		• ACK (Acknowledgment)


Стандарт 802.11 определяет службы, чтобы клиенты, точки доступа и соединяющие их сети могли сформировать согласованную беспроводную LAN. Их можно разделить на несколько категорий.

Сопоставление и доставка данных
	1. Подключение к точкам доступа (AP): 
		Используется мобильными станциями для подключения к AP при входе в зону действия.
	2. Получение информации: 
		Станция получает идентификационные данные и характеристики AP, такие как скорость передачи данных, меры безопасности и поддержка QoS.
	3. Идентификатор набора служб (SSID)
		Содержится в сообщениях-маяках от AP и используется для идентификации сети. Если SSID не передается, станция должна его узнать другим способом.
	4. Запрос на сопоставление
		Станция отправляет запрос на соединение с AP, которая может его принять или отвергнуть.

#### Безопасность и конфиденциальность
1. Аутентификация:
	• Перед отправкой фреймов станции должны пройти аутентификацию.
	• Открытые сети разрешают доступ любому, в закрытых требуется учетная запись.
2. Схемы аутентификации:
	• [[Защита соединений#WPA2 (Wi-Fi Protected Access 2)|WPA2]] (Wi-Fi Protected Access 2):
		Обеспечивает безопасность по стандарту 802.11i.
		Использует сервер аутентификации для проверки учетных данных (имя пользователя и пароль).
		Возможен обмен фреймами для подтверждения правильности учетных данных.
	• 802.1X:
		Централизованная аутентификация, обеспечивающая контроль доступа и учет ресурсов.
		Использует расширенный протокол аутентификации (EAP) с более чем 50 методами.
		Популярные методы EAP: EAP-TLS (сертификаты), EAP-TTLS и PEAP (различные способы сопоставления), EAP-SIM (SIM-карта).
3. Проблемы с безопасностью:
	• WEP (Wired Equivalent Privacy):
		Устаревшая и небезопасная схема аутентификации, практически не используется из-за уязвимостей.
	• [[Защита соединений#WPA (Wi-Fi Protected Access)|WPA]]: Признана устаревшей после появления WPA2.
	• WPA2: Использует алгоритм AES для шифрования, однако также была взломана в 2017 году.

#### Приоритизация и управление питанием
1. **QoS (Quality of Service)**:
	• Служба планирования трафика, обеспечивающая обработку трафика с различными приоритетами.
	• Предоставляет преимущество голосовому и видеотрафику перед негарантированным и фоновым трафиком.
	• Обеспечивает синхронизацию более высокого уровня для координации действий станций, что полезно для обработки мультимедиа.
2. Регулирование мощности передатчика (Transmit Power Control):
	• Позволяет станциям соблюдать установленные нормативные пределы мощности передачи, которые варьируются в зависимости от региона.
3. Динамический выбор частоты (Dynamic Frequency Selection):
	• Предоставляет данные для избежания передачи в диапазоне 5 ГГц, который используется радарами.
