
Существует два типа
**Ethernet: классический** Ethernet (classic Ethernet), который решает проблему множественного доступа с помощью методов.
	Классический Ethernet — изначальный вариант, достигавший скорости 3–10 Мбит/с. 
**Коммутируемый Ethernet** (switched Ethernet), в котором для соединения компьютеров используются коммутаторы (switches)
	Коммутируемый Ethernet — результат развития классического. Различают быстрый, гигабитный, 10-гигабитный, 40-гигабитный и 100-гигабитный коммутируемый Ethernet


#### Классический Ethernet

Физический уровень классического Ethernet
	В начале использовался длинный толстый коаксиальный кабель, а пропускная способность составляла 3 Мбит/с. Система получила название «Ethernet», в честь люминофорного эфира, через который, как когда-то считалось, распространяются электромагнитные лучи.
	**Классический Ethernet — это проходящий по всему зданию длинный кабель, к которому подключаются компьютеры.**

Первый вариант, называемый в народе толстым Ethernet (thick Ethernet), напоминал желтый садовый шланг с маркировкой каждые 2,5 м — в этих местах подключались компьютеры. (По стандарту 802.3 не требовалось, чтобы кабель был желтым, но это подразумевалось.)

Ему на смену пришел тонкий Ethernet (thin Ethernet); эти кабели лучше гнулись, а соединения выполнялись с помощью стандартных разъемов BNC. Тонкий Ethernet был намного дешевле и проще в установке, но длина сегмента не превышала 185 м
(вместо 500 м для толстого Ethernet), а каждый сегмент поддерживал не более 30 компьютеров (вместо 100).

Для построения сетей больших размеров несколько кабелей соединяются повторителями (repeaters). Повторитель — это устройство физического уровня. Он принимает, усиливает (регенерирует) и передает сигналы в обоих направлениях.


##### Протокол MAC в классическом Ethernet
Формат фрейма
	![[Pasted image 20241212091140.png]]

Фрейм в Ethernet состоит из нескольких полей, каждое из которых выполняет свою функцию:
	• Преамбула (Preamble):
		Длина: 8 байт.
		Предназначена для синхронизации передатчика и приемника.
	• Адресные поля:
		Адрес получателя (Destination Address): 6 байт.
			Первый бит обозначает:
				0 — обычный адрес.
				1 — групповой адрес.
		Адрес отправителя (Source Address): 6 байт.
			• Поле Type или Length
			• Data (Данные) -  ограничен 1500 байтами
			• Checksum - это 32-битный код CRC
		Групповые и широковещательные адреса
			Групповые адреса:
				Позволяют нескольким станциям принимать информацию от одного отправителя.
				Управление группами позволяет определять, какие станции входят в группу.
			Широковещание (Broadcasting):
				Адрес состоит только из единиц (например, FF:FF:FF:FF:FF:FF).
				Фрейм принимается всеми станциями сети.
				Не требует управления группами, так как нет различий между станциями.
	• Поле Type или Length
			Поле Type (в Ethernet):
				Указывает, какому протоколу передавать данные.
				Например, код типа 0x0800 означает, что данные содержат пакет IPv4.
			Поле Length (в IEEE 802.3):
				Указывает длину фрейма.
				Проблема: для определения длины в Ethernet нужно заглянуть внутрь данных, что нарушает правила использования сетевых уровней.
				Для решения проблемы с определением назначения фрейма в IEEE 802.3 был добавлен заголовок для протокола управления логическим каналом (Logical Link Control, LLC).
	• Поле Date (данные)
			За полем Type следует поле Data (Данные), размер которого ограничен 1500 байтами.
			При официальном закреплении стандарта Ethernet это число было выбрано, в общем-то, произвольно (Из за тот момент дорогой оперативной памяти).        
	Кроме верхней границы размера поля данных очень важна и нижняя 
			Поле данных, содержащее 0 байт, вызывает определенные проблемы. Дело в том, что когда трансивер обнаруживает коллизию, он обрезает текущий фрейм, а это означает, что отдельные куски фреймов постоянно блуждают по кабелю. Чтобы легче отличать нормальные фреймы от мусора, сети Ethernet требуется фрейм размером не менее 64 байт (от поля адреса получателя до поля контрольной суммы включительно). Если во фрейме содержится меньше 46 байт данных, в него вставляется специальное поле Pad (Заполняющие биты), с помощью которого его размер доводится до необходимого минимума.
	• Checksum
		Последнее поле фрейма — Checksum (Контрольная сумма). По сути, это 32-битный код CRC

Производительность Ethernet
производительность классического Ethernet в условиях большой постоянной загрузки, то есть когда k станций постоянно готовы к передаче.
Максимальная длина кабеля влияет на производительность. **Чем длиннее кабель, тем дольше период конкуренции за канал.**
При длине фреймов 1024 байта и при асимптотическом значении 64-байтных слотов на период конкуренции этот период равен 174 байтам, а **эффективность канала составит 85 %.**


#### Коммутируемый Ethernet

##### Физический уровень концентратор Ethernet
Очень скоро Ethernet стал отходить от архитектуры с одним длинным кабелем, которая использовалась в классическом варианте. Проблема поиска обрывов или ведущих в пустоту соединений привела к новому способу подключения, в котором **каждая станция соединяется с центральным концентратором (hub) отдельным кабелем**. **Концентратор просто соединяет все провода в электрическую схему, как если бы они были спаяны вместе.**

##### Проблемы концентратора
Однако концентраторы не увеличивают пропускную способность, так как логически они эквивалентны одному длинному кабелю классической сети Ethernet. При добавлении станций доля каждой из них в общей фиксированной емкости канала уменьшается. Рано или поздно локальная сеть переполнится. Чтобы этого избежать, можно увеличить скорость передачи данных — например, с 10 на 100 Мбит/с, 1 Гбит/с или даже больше. Однако с ростом объемов мультимедийных данных и мощности серверов даже гигабитные версии Ethernet перестанут справляться.

##### Коммутируемый Ethernet
Решения проблемы высокой загрузки — коммутируемая сеть Ethernet. Основой системы является коммутатор (switch), который включает высокоскоростную плату, объединяющую все порты. Внешне коммутатор ничем не отличается от концентратора.
	 У коммутатора есть все преимущества концентратора. Новую станцию легко добавить или удалить, подключив или отключив один провод. Большинство сбоев кабеля или портов легко выявляется по неправильной работе всего лишь одной станции. Общий компонент все же может подвести систему — речь идет о самом коммутаторе

##### **Архитектура физического уровня концентратора и коммутатора**
![[Pasted image 20241212093012.png]]
Внутри коммутатор и концентратор существенно различаются.
	Коммутаторы отдают фреймы только на порты, для которых те предназначены. Когда со станции на порт коммутатора приходит фрейм Ethernet, коммутатор проверяет адреса Ethernet и узнает, на какой порт этот фрейм нужно отдать. Для данного шага требуется, чтобы устройство могло сопоставлять номера портов и адреса. Скорость платы составляет несколько гигабит в секунду, а используемый протокол стандартизировать не требуется, так как он не выходит за пределы коммутатора. Затем порт получателя отправляет фрейм станции назначения по соединяющему их проводу. Другие порты об этом фрейме даже не подозревают.

Что произойдет, если два компьютера или два порта станут передавать фреймы одновременно?
	**У концентратора** все станции находятся в одной и той же области коллизий (collision domain) Для планирования пересылки фреймов требуется алгоритм CSMA/CD.
	**У коммутатора** каждый порт находится в своей области коллизий. Обычно передача по кабелю осуществляется в дуплексном режиме, а значит, и станция, и порт могут одновременно отправлять фреймы, не беспокоясь о других станциях и портах. Коллизии при этом невозможны, и CSMA/CD не нужен. Однако если кабель полудуплексный, то станция и порт должны договариваться о передаче с помощью обычного CSMA/CD.

Что касается производительности, у коммутатора два преимущества перед концентратором.
	Во-первых, поскольку коллизии отсутствуют, **пропускная способность используется более эффективно**.
	Во-вторых, что еще более важно, благодаря коммутатору разные станции могут посылать фреймы одновременно. Достигнув портов коммутатора, они перейдут по внутренней плате устройства на правильные выходные порты. Но так как на один выходной порт может быть **одновременно отправлено два фрейма, внутри коммутатора должен быть буфер для их временного хранения, если моментальная доставка на выходной порт невозможна.**

Изменения в технологии портов, на которые пересылаются фреймы, также дают преимущества, связанные с безопасностью:
Большинство интерфейсов LAN (сетевых адаптеров) могут работать в «неразборчивом режиме» (promiscuous mode), когда все фреймы передаются на все компьютеры, а не только адресату. 
	**При использовании концентратора каждый подключенный к нему компьютер может видеть трафик** между всеми остальными устройствами
	**Коммутатор передает трафик только на порты адресатов**. Это обеспечивает лучшую изоляцию и защиту от утечки данных: трафик не по­падетв чужие руки.

закон Паркинсона («Работа занимает все отведенное на нее время») можно перефразировать так: «Данные занимают всю предоставленную пропускную способность канала».


