
Все уровни, расположенные ниже прикладного, занимаются доставкой данных, но не 
выполняют никакой практической работы для пользователя.

----
# Служба имён доменов DNS

**DNS (Domain Name System):** Это система, которая переводит доменные имена в IP-адреса, которые используются для идентификации устройств в сети. Когда вы вводите адрес сайта в браузере, DNS запрашивает соответствующий IP-адрес и направляет ваш запрос к нужному серверу.

- [[Служба имён доменов DNS#структура|структура]]

- [[Служба имён доменов DNS#История и общие сведения|История и общие сведения]]

## [[Служба имён доменов DNS#Процесс работы DNS|Процесс работы DNS]]

1. **Клиентский запрос:** 
2. **Проверка кэша:**
3. **Если в кэше на устройстве не было обнаружено запрос передаётся на DNS Resolver сервер** 
4. **Если Resolver распознающий DNS сервер не нашёл у себя то он обращается к Root серверу (их много)** 
5. **Итеративный поиск:**
	5.1 **Сервер TLD (Top-Level Domain) имеет разновидности generic Top Level Domain, gTLD и country code Top Level Doman, ccTLD.**
	5.2  **Сервер авторитативных имен**


## [[Служба имён доменов DNS#Структура серверов DNS|Структура серверов DNS]]

1. **Серверы имен (DNS-серверы)**
	a. Авторитетные DNS-серверы
	b. Кэшированные DNS-серверы
2. **Корневые DNS-серверы**
3. **TLD-серверы**
4. **Регистраторы доменных имен**
5. **Клиентские устройства**

## [[Служба имён доменов DNS#DNS-запросы и DNS-ответы|DNS-запросы и DNS-ответы]]

Запросы бывают трёх видов:
- Recursive (рекурсивный) нужен для поиска ip адреса сайта 
- Iterative (итеративный) нужен для ip адреса сайта или авторитетных dns серверов
- Inverse (обратный) нужен для обратного (какое доменное имя по такому ip адресу)

Ответы на DNS-запросы могут содержать несколько секций:
- ANSWER SECTION — основная информация о запрашиваемом домене (например, IP-адрес).
- AUTHORITY SECTION — информация о том, какие серверы являются авторитетными для данного домена.
- ADDITIONAL SECTION — дополнительная информация, которая может быть полезна для клиента (например, IP-адреса авторитетных серверов).
Каждый ответ содержит:
- TL (Time to Live) — время, в течение которого ответ может кэшироваться.
- Тип записи — указывает, какую информацию содержит запись (A, AAAA, CNAME, PTR, MX и т.д.).


## [[Служба имён доменов DNS#Конфиденциальность|Конфиденциальность]]

- QNAME-минимизация
- Проблемы безопасности DNS
- Современные безопасные протоколы
- Доверенные рекурсивные распознаватели (TRR)
- Забывчивый DNS и забывчивый DoH


----

# Электронная почта


## [[Электронная почта#Архитектура и службы|Архитектура и службы]]

Система e-mail состоит из двух подсистем: 
- **Пользовательские агенты (user agents)/Пользовательский агент (MUA)**, позволяют пользователям читать и отправлять письма
- **Агенты передачи сообщений (message transfer agents)/Агент передачи почты (MTA)**, пересылают письма от отправителя к получателю или ещё их называют **почтовыми серверами (mail servers)**.

#### [[Электронная почта#Взаимодействие между агентами|Взаимодействие между агентами]]

==SMTP== был впервые описан в RFC 821. 
Позже в него вносились изменения вплоть до текущей редакции RFC 5321. Он отправляет сообщения по соединениям и высылает обратно отчеты о статусе доставки и любых возникших ошибках. RFC 5322; в нее включена поддержка мультимедиа-контента и международный текст. Эта схема получила название «MIME».


- [[Электронная почта#Пользовательский агент|Пользовательский агент]]

## Форматы сообщений

Чтобы сообщения, отсылаемые пользовательским агентом, обрабатывались агентами передачи сообщений, они должны быть оформлены в соответствии с определенными стандартами.
-  Базовый [[Кодировки|ASCII-формат]] электронного письма стандарта RFC 5322. последний вариант оригинального формата интернет-сообщений, описанного в стандарте RFC 822 и его многочисленных обновлениях.
- MIME — многоцелевые расширения интернет-почты
#### [[Электронная почта#RFC 5322 — формат интернет-сообщений|RFC 5322 — формат интернет-сообщений]]

#### [[Электронная почта#MIME — многоцелевые расширения интернет-почты|MIME — многоцелевые расширения интернет-почты]]


## [[Электронная почта#Пересылка сообщений SMTP|Пересылка сообщений SMTP]]

#### Два основных способа применения SMTP:

- 1. [[Электронная почта#1. Подача почтового сообщения (Step 1)|Подача почтового сообщения (Step 1)]]
- 2. [[Электронная почта#2. Пересылка сообщений между агентами передачи сообщений (Step 2)|Пересылка сообщений между агентами передачи сообщений (Step 2)]]

#### [[Электронная почта#SMTP и его расширения|SMTP и его расширения]]

- Ограничения SMTP
- Расширенный SMTP (ESMTP)



- [[Электронная почта#Подача почтовых сообщений|Подача почтовых сообщений]]

- [[Электронная почта#Физическая передача|Физическая передача]]


## [[Электронная почта#Окончательная доставка|Окончательная доставка]]

- Проблемы окончательной доставки
- Протокол IMAP
- Веб-почта


----

# Всемирная паутина

## [[Всемирная паутина#Немного истории|Немного истории]]

**Всемирная паутина WWW (World Wide Web), или просто «веб»,** — это архитектура, которая является основой для доступа к соединенному ссылками контенту на миллионах компьютеров по всему интернету.

## [[Всемирная паутина#Представление об архитектуре|Представление об архитектуре]]


Идея использования страниц, направляющих друг на друга, — так называемого ==гипертекста (hypertext)==

Для просмотра страниц обычно используется специальная программа, называемая **[[Всемирная паутина#Сторона клиента|браузером (browser)]]**.

Страница называется **[[Всемирная паутина#Статичные веб-объекты|статичной]] (static page)**, если это документ, который всегда отображается одинаково. Если же она создается по требованию программы или сама содержит какую-либо программу, то это **[[Всемирная паутина#Динамические веб-страницы и веб-приложения|динамическая страница]] (dynamic page)**.

#### [[Всемирная паутина#Сторона клиента|Сторона клиента]]

Браузер — это программа, которая отображает веб-страницу и реагирует на пользовательские запросы «перехода» к ее элементам. При выборе элемента браузер переходит по гиперссылке и извлекает объект, на который указал пользователь.

Каждой странице приписывается унифицированный указатель ресурса ==(Uniform Resource Locator, URL)==. URL-адрес содержит три элемента: 
- Протокол (который также называют схемой — scheme)
- DNS-имя устройства, на котором расположена страница
- Уникальный для каждой страницы путь (файл для чтения или программу для запуска на компьютере).

#### [[Всемирная паутина#Сторона сервера|Сторона сервера]]

Когда пользователь вводит URL-адрес или кликает по гиперссылке, браузер производит синтаксический разбор URL-адреса и интерпретирует часть, заключенную между https:// и следующей косой чертой, как искомое DNS-имя. Получив IP-адрес сервера, браузер устанавливает TCP-соединение с его портом 443. Затем отсылается команда, содержащая оставшуюся часть URL-адреса (путь к странице на данном сервере). Сервер возвращает браузеру ту страницу, которую он должен отобразить.

Если не вдаваться в детали, простой [[Веб-сервера|веб-сервер]] работает примерно так.
1. Принимает входящее TCP-соединение от клиента (браузера).
2. Получает путь к странице, являющийся именем запрашиваемого файла.
3. Получает файл (с диска).
4. Высылает содержимое файла клиенту.
5. Разрывает TCP-соединение.

Современные веб-серверы обладают более широкими возможностями, однако в основе их работы лежат именно перечисленные шаги, которые предпринимаются в случае запроса контента из файла. **Если контент динамический, третий шаг может быть заменен выполнением программы (указанной в пути), которая генерирует и возвращает определенный контент.**

==Параллельную обработку запросов также можно осуществить с помощью многопоточных (multithreaded) серверов.== 

Все современные веб-архитектуры построены по представленной выше схеме, с разделением на интерфейсную («фронтенд») и серверную («бэ-кенд») части. **Интерфейсный веб-сервер часто называют обратным прокси-сервером (reverse proxy)**, поскольку он как посредник («прокси») извлекает содержимое из других серверов (обычно относящихся к серверной части) и доставляет эти объекты клиенту. Слово «обратный» указывает на то, что он действует от имени сервера, а не клиента.

## [[Всемирная паутина#Статичные веб-объекты|Статичные веб-объекты]]

Статичные объекты— **это размещенные на каком-либо сервере файлы, которые при каждом просмотре отображаются одинаково.** Обычно их можно кэшировать, и даже на длительное время, поэтому они часто размещаются в ближайшем к пользователю объектном кэше.

==Язык HTML (HyperText Markup Language — язык разметки гипертекста)==
Это язык разметки, то есть язык для описания способа форматирования документов. 
	Термин разметка (markup) восходит к тем дням, когда редактор с помощью специальной разметки указывал типографу, какой шрифт использовать для печати. Таким образом, языки разметки позволяют четко задавать команды форматирования.

Например, в HTML тег `<b> означает начало участка текста, выделенного полужирным шрифтом, а </b>` указывает на конец такого участка. В свою очередь, тег `<h1>` указывает начало заголовка уровня 1.

 В современных веб-страниц для определения гарнитуры, цвета, размера, отступов и многих других атрибутов текста, списков, таблиц, заголовков. Пишутся на языке ==CSS (Cascading Style Sheets — каскадные таблицы стилей)==.

Также существует множество программ для создания веб-страниц, например Adobe Dreamweaver.

## [[Всемирная паутина#Динамические веб-страницы и веб-приложения|Динамические веб-страницы и веб-приложения]]

**Чтобы выступать в роли приложения, веб-страницы содержат динамический контент.**
Динамический контент может генерироваться программами, запущенными на сервере или в браузере (или на обоих хостах).

- [[Всемирная паутина#Динамическая генерация веб-страниц на стороне сервера|Динамическая генерация веб-страниц на стороне сервера]]
- [[Всемирная паутина#Создание динамических веб-страниц на стороне клиента|Создание динамических веб-страниц на стороне клиента]]


## [[Всемирная паутина#HTTP и HTTPS|HTTP и HTTPS]]

==Протокол передачи гипертекста (HyperText Transfer Protocol, HTTP)==, описан в спецификации RFC 2616.

**Защищенным протоколом передачи гипертекста (Secure HyperText Transfer Protocol, HTTPS)**. В сущности, оба протокола извлекают веб-объекты одинаково, и HTTP-стандарт для извлечения объектов развивается практически независимо от своей защищенной версии. HTTPS фактически использует HTTP поверх защищенного транспортного протокола защиты транспортного уровня [[Веб-безопасность#SSL/TLS|(Transport Layer Security, TLS)]]. 

- [[Всемирная паутина#Общие сведения|Общие сведения]]

#### [[Всемирная паутина#Методы|Методы]]

HTTP был разработан специально для веб-технологий, но его намеренно сделали более универсальным, чем это было необходимо, в расчете на будущее применение в объектно-ориентированных приложениях. По этой причине ==HTTP позволяет запрашивать не только веб-страницы, но и операции, называемые методами.==

Каждый запрос состоит из одной или нескольких строк ASCII-текста, где начальное слово в первой строке является именем вызываемого метода. Встроенные методы:
![[Pasted image 20250108171820.png]]
Имена методов чувствительны к регистру символов, то есть метод GET существует, а метод get — нет.

При этом тело запроса содержит страницу**. Она может быть **закодирована согласно стандарту MIME**. В этом случае строки, следующие за командой PUT, могут содержать заголовки аутентификации, подтверждающие, что абонент обладает правами доступа к запрашиваемой операции.**

#### [[Всемирная паутина#|Заголовки сообщений]]

За строкой запроса (к примеру, содержащей метод GET) могут следовать другие строки с дополнительной информацией. Они называются заголовками запросов (request headers). В свою очередь, ответы могут содержать заголовки ответов (response headers). Некоторые заголовки встречаются и там и там.


#### **[[Всемирная паутина#**CORS**|CORS]]**

**Same Origin Policy (SOP)**: По умолчанию браузеры применяют политику безопасности, называемую "Политика одного источника", которая ограничивает доступ к ресурсам, если источник запроса (домен) не совпадает с источником ресурса. Это предотвращает атаки, такие как кража данных с другого сайта.

Разработчики захотели использовать [[JavaScript#AJAX-запросы|AJAX-запросы]] для взаимодействия с удалёнными ресурсами. Однако SOP не позволяет делать запросы к ресурсам на других доменах.

**• CORS** — это механизм, который позволяет браузерам делать запросы к ресурсам на других доменах, используя специальные HTTP-заголовки.

-  [[Всемирная паутина#Простой и сложный запросы|Простой и сложный запросы]]

- [[Всемирная паутина#Заголовки CORS|Заголовки CORS]]

- [[Всемирная паутина#Preflight-запрос|Preflight-запрос]]

- [[Всемирная паутина#Ответ сервера на preflight-запрос|Ответ сервера на preflight-запрос]]

#### [[Всемирная паутина#Кэширование|Кэширование]]

Часто пользователи возвращаемся на страницы, которые уже просматривали ранее, а на связанных веб-страницах нередко размещаются одни и те же ресурсов.
Сохранение полученных страниц для дальнейшего использования называется кэшированием (caching). 

**Основные стратегии кэширования можно разделить на две категории:**
1. Проверка действительности (Validation)
2. Условные GET-запросы

#### [[Всемирная паутина#HTTP/1 и HTTP/1.1|HTTP/1 и HTTP/1.1]]

#### [[Всемирная паутина#HTTP/2|HTTP/2]]

#### [[Всемирная паутина#HTTP/3|HTTP/3]]


## Конфиденциальность в интернете

#### [[Cookies файлы|Файлы cookie]]

#### [[Всемирная паутина#Снятие цифрового отпечатка устройства и браузера|Снятие цифрового отпечатка устройства и браузера]]


----
# Резюме

Сегодня именование доменов в интернете реализуется при помощи иерархического подхода — системы доменных имен, DNS. Эта система организует все подключенные к интернету компьютеры в набор деревьев. На верхнем уровне находятся общеизвестные родовые домены, включая com, edu и около 200 национальных доменов. DNS реализована в виде распределенной базы данных, серверы которой расположены по всему миру. DNS применяется для различных целей; в последнее время в силу выявленных проблем конфиденциальности возникла тенденция к шифрованию DNS-трафика с помощью протокола TLS или HTTPS. В итоге это может привести к централизации службы DNS, что, в свою очередь, изменит фундаментальные аспекты архитектуры интернета.

Электронная почта — это одно из самых ранних и популярных приложений интернета. Ею до сих пор пользуются все, от мала до велика. Большинство существующих сегодня систем электронной почты соответствует спецификациям RFC 5321 и 5322. Сообщения содержат ASCII-заголовки и данные разных типов, прописанных в MIME-заголовках. Почта отдается агентам передачи для доставки, а затем извлекается и отображается во многих пользовательских агентах, включая веб-приложения. Отправленная почта доставляется по протоколу SMTP, устанавливающему TCP-соединение между хостом-источником и хостом-получателем.

Всемирная паутина является приложением, которое многие считают интернетом. Изначально это была система для обработки страниц, написанных на HTML и содержащих гиперссылки на другие страницы, которые загружались при помощи TCP-соединения браузера с сервером. Сегодня большая часть контента является динамической, или на стороне сервера (например, с PHP), или на стороне браузера (например, с JavaScript). 




